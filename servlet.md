## 웹서버, 웹어플리케이션 서버
- 웹서버 : HTTP 기반으로 동작하며 정적 리소스인 HTML, CSS, JS 이미지 영상같은 리소스를 제공한다.
- 웹어플리케이션서버(WAS) : HTTP 기반으로 동작하며, 웹서버의 기능을 포함하고, 프로그램 코드를 실행하여 로직을 실행하는 동적서버라고 불린다. 대표적으로 동적 HTML, SPRING, SERVLET 등이 쓰인다.
- 웹서버도 프로그램 실행 기능을 제공하기도 하며, WAS도 웹서버의 기능을 제공하기 때문에 둘 사이의 경계는 모호하다.
- 자바는 서블릿 컨테이너 기능을 제공하면 WAS라고 불린다.
- WAS는 어플리케이션 코드를 실행하는데 더 특화되어 있다.
## 단일 WAS, DB - 웹 시스템 구성
-  WAS 는 정적 리소스, 어플리케이션 로직 모두 제공이 가능하기 때문에 단일 WAS , DB 만으로 시스템 구성이 가능하다.
- 다만 WAS가 너무 많은 역할을 담당하기때문에 서버 과부하의 우려가 있고, 어플리케이션 로직이 정적 리소스 때문에 수행이 어려울 수 있다. 
- 그래서 WAS 장애시 오류화면도 노출이 불가능하다.

## WEB, WAS, DB - 웹시스템 구성
- 정적 리소스는 웹서버가 처리하고
- 웹서버는 동적 리소스의 경우 WAS에 요청을 위임한다
- WAS는 중요 어플리케이션 로직을 전담하여 처리한다
- 효율적인 리소스 관리
	-  정적리소스가 많이 사용되면 WEB 서버를 증설
	- 어플리케이션 리소스가 많이 사용되면 WAS를 증설
	- WAS 서버가 잘 죽는 경우가 있어서 WEB 서버에서 에러메세지를 표현할 수 있다.
## 서블릿
- 서블릿을 지원하는 WAS 들은 DB 저장 요청을 제외한 HTTP 응답과 요청의 과정을 편리하게 처리해준다.
- HTTP 요청시 응답 흐름
	- WAS는 req, res 객체를 만들어 서블릿 객체를 호출
	- 개발자는 req 객체에서 HTTP 요청 정보를 사용한다
	- 개발자는 res 객체에서 HTTP 응답 정보를 작성한다
	- WAS는 res 객체에 담겨있는 내용으로 HTTP 응답정보를 생성
- 서블릿 컨테이너
	- 톰캣처럼 서블릿을 지원하는 WAS 를 서블릿 컨테이너라한다
	- 서블릿 컨테이너는 서블릿 객체를 생성, 초기화, 호출, 종료 하는 생명주기를 관리한다.
	- 서블릿 객체는 싱글톤으로 관리한다.
		- 요청이 올때마다 객체를 생성하는 것은 비효율적
		- 최초 로딩 시점에 서블릿 객체를 미리 만들어두고 재활용
		- 모든 고객 요청은 동일한 서블릿 객체 인스턴스에 접근한다.
		- 서블릿 컨테이너 종료시 함께 종료
	- JSP 도 서블릿으로 변환되어 사용된다
	- 동시 요청을 위한 멀티스레드 처리도 지원한다. 
